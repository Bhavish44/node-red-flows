[{"id":"686e0309.38000c","type":"function","z":"ccd4c7fb.e2fdd8","name":"","func":"var jsonObj = JSON.parse( msg.payload );\n\nvar tubes = [];\n\nvar counter = 0;\n\nfor(var i=0; i<jsonObj.length; i++)\n{\n    if(jsonObj[i].id==\"central\" ||\n        jsonObj[i].id==\"district\" ||\n        jsonObj[i].id==\"northern\")\n    {\n        extractData(jsonObj[i]);\n    }\n}\n\nfunction extractData(json)\n{\n    var obj = {};\n    obj[\"name\"] = json.name;\n    obj[\"service\"] = json.lineStatuses[0].statusSeverityDescription;\n    tubes.push(obj);\n}\n\nmsg.payload = tubes;\nreturn msg;","outputs":1,"noerr":0,"x":681,"y":362,"wires":[["8af0c64c.0acd38","4228d485.03e7ac"]]}]